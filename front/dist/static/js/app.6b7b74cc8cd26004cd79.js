webpackJsonp([1],{"9K7w":function(t,e){},JY6z:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"app-header"},[e("div",{staticClass:"grid-x grid-container"},[e("div",{staticClass:"large-6 cell"},[e("img",{staticClass:"app-logo",attrs:{src:"static/logo.svg"}})]),this._v(" "),e("div",{staticClass:"large-6 cell text-right user"},[this._v("demo.user")])])])}]};var i={name:"App",components:{appheader:s("VU/8")({name:"Header"},a,!1,function(t){s("JY6z")},null,null).exports},watch:{$route:function(t,e){document.title=t.meta.title}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("appheader"),this._v(" "),e("router-view")],1)},staticRenderFns:[]},n=s("VU/8")(i,o,!1,null,null,null).exports,c=s("/ocq"),d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main grid-container"},[s("h1",[t._v("Мои проекты")]),t._v(" "),t.isLoading||t.isLoaded?s("div",{staticClass:"rivals"},[t._l(t.errors,function(e){return t.isLoaded&&t.errors.length>0?s("div",{key:e,staticClass:"callout alert"},[s("h5",[t._v("Ошибка получения данных с сервера")]),t._v(" "),s("p",[t._v(t._s(e))])]):t._e()}),t._v(" "),t.isLoading?s("p",[t._v("Загрузка..."),s("br"),t._v("Получение данных может занять несколько минут.")]):t._e(),t._v(" "),!t.isLoaded||t.isLoading||t.errors?t._e():s("div",[s("table",[t._m(0),t._v(" "),s("tbody",t._l(t.projects,function(e){return s("tr",{key:e.projectId},[s("td",[s("svg",{attrs:{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("circle",{attrs:{cx:"4",cy:"4",r:"4",fill:"{{getStatusColor(project.status)}}"}})]),t._v("\n                    "+t._s(e.status)+"\n                  ")]),t._v(" "),s("td",[t._v(t._s(e.service))]),t._v(" "),s("td",[t._v(t._s(e.domain))]),t._v(" "),s("td",[t._v(t._s(e.domain))]),t._v(" "),s("td",{staticClass:"text-right"},[t._v(t._s(e.projectId))])])}))])])],2):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Статус")]),this._v(" "),e("th",[this._v("Услуга")]),this._v(" "),e("th",[this._v("Сайт")]),this._v(" "),e("th",{staticClass:"text-right"},[this._v("ProjectId")])])])}]};var u=s("VU/8")({name:"Projects",mounted:function(){this.$store.dispatch("getProjects")},methods:{getStatusColor:function(t){return"active"===t?"#69E2B2":"#DCE0E5"}},computed:{errors:{get:function(){return this.$store.state.projectsState.errors}},isValid:{get:function(){return this.$store.state.projectsState.isValid}},isLoaded:{get:function(){return this.$store.state.projectsState.isLoaded}},isLoading:{get:function(){return this.$store.state.projectsState.isLoading}},projects:{get:function(){return this.$store.state.projectsState.projects}}}},d,!1,function(t){s("9K7w")},null,null).exports;r.a.use(c.a);var l=new c.a({mode:"history",routes:[{path:"/",name:"Projects",component:u,meta:{title:"Мои проекты"}}]}),v=s("NYxO"),p=s("mtWM"),_=s.n(p).a.create({baseURL:"api/",auth:{username:"demo.user",password:"demo"}});r.a.use(v.a),r.a.config.devtools=!0;var h=new v.a.Store({state:{projectsState:{errors:[],isValid:!0,isLoaded:!1,isLoading:!1,projects:[]}},mutations:{updateStore:function(t,e){t[e.name]=e.value},updateIfExists:function(t,e){var s=e.data,r=e.key;s[r]&&(t[r]=s[r])}},actions:{getProjects:function(t){_.post("GetProjects/",{}).then(function(e){var s=e.data;t.commit("updateStore",{name:"projectsState",value:{errors:[],isLoaded:!0,isLoading:!1,isValid:!0,projects:s}})}).catch(function(e){t.commit("updateStore",{name:"projectsState",value:{errors:[e],isLoaded:!0,isLoading:!1,isValid:!0}})})}}});r.a.config.productionTip=!1,new r.a({store:h,el:"#app",router:l,components:{App:n},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.6b7b74cc8cd26004cd79.js.map