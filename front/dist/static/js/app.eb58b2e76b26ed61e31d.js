webpackJsonp([1],{Jl07:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App"},i,!1,function(t){a("Z2VJ")},null,null).exports,n=a("/ocq"),c=a("mtWM"),o=a.n(c).a.create({baseURL:"http://localhost:8899/api/"}),l=a("B+1z"),d=a.n(l),h=a("tZw+"),p=a.n(h),v=a("504h"),u=a.n(v);window.Highcharts=u.a,r.a.use(p.a,{Chartkick:d.a});var _={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-stat"},[a("h2",[t._v(t._s(t.domain)+" "),a("small",[a("a",{attrs:{href:t.projectLinkUrl,target:"_blank"}},[t._v(t._s(t.projectId))])])]),t._v(" "),a("div",{staticClass:"grid-x grid-padding-x grid-padding-y"},[a("div",{staticClass:"large-6 cell"},[t._m(0),t._v(" "),a("line-chart",{attrs:{data:t.monthSpend}})],1),t._v(" "),a("div",{staticClass:"large-6 cell"},[t._m(1),t._v(" "),a("line-chart",{attrs:{data:t.monthTraffic}})],1),t._v(" "),a("div",{staticClass:"large-6 cell"},[t._m(2),t._v(" "),a("line-chart",{attrs:{data:t.dayTraffic}})],1),t._v(" "),a("div",{staticClass:"large-6 cell"},[t._m(3),t._v(" "),a("line-chart",{attrs:{data:t.daySpend}})],1),t._v(" "),a("div",{staticClass:"large-6 cell"},[t._m(4),t._v(" "),a("line-chart",{attrs:{data:t.dayConversions}})],1),t._v(" "),a("div",{staticClass:"large-6 cell"},[t._m(5),t._v(" "),a("line-chart",{attrs:{data:t.cpc}})],1),t._v(" "),a("div",{staticClass:"large-6 cell"},[t._m(6),t._v(" "),a("line-chart",{attrs:{data:t.cpa}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[this._v("Расход за месяц "),e("small",[this._v("Прогноз до конца месяца")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[this._v("Трафик за месяц "),e("small",[this._v("Прогноз до конца месяца")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[this._v("Трафик за день "),e("small",[this._v("Прогноз за день")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[this._v("Расход по дням "),e("small",[this._v("Прогноз за день")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[this._v("Конверсии за месяц "),e("small",[this._v("Прогноз за месяц, факт в сумме за месяц")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[this._v("CPC "),e("small",[this._v("Прогноз за месяц")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[this._v("CPA "),e("small",[this._v("Прогноз за месяц")])])}]};var m={name:"Stat",components:{projectStat:a("VU/8")({name:"ProjectStat",props:["projectId","domain","holidays","dayTraffic","daySpend","dayConversions","cpc","cpa","monthSpend","monthTraffic"],computed:{projectLinkUrl:function(){return"http://motor.local/Direct/BidsControl?projectId="+this.projectId}},data:function(){return{}},methods:{},created:function(){}},_,!1,function(t){a("gQZ1")},null,null).exports},data:function(){return{data:{},errors:[],isLoaded:!1,isLoading:!1,projectId:this.$route.params.projectId,projectIdIsValid:!0}},methods:{validateAndFetch:function(){var t=this;this.$router.push({name:"StatWithProject",params:{projectId:this.projectId}}),parseInt(this.projectId)>0?(this.projectIdIsValid=!0,this.isLoading=!0,o.get("getStat/"+this.projectId).then(function(e){t.data=e.data,t.errors=[],t.isLoaded=!0,t.isLoading=!1}).catch(function(e){t.errors=[],t.errors.push(e),t.isLoaded=!0,t.isLoading=!1})):(this.projectIdIsValid=!1,this.isLoading=!1)}},created:function(){this.$route.params.projectId&&(setInterval(this.validateAndFetch,6e4),this.validateAndFetch())}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("header",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.projectId,expression:"projectId"}],staticClass:"input-group-field",attrs:{type:"text",placeholder:"id проекта"},domProps:{value:t.projectId},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.validateAndFetch(e)},input:function(e){e.target.composing||(t.projectId=e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-button"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.validateAndFetch}},[t._v("Получить данные")])])]),t._v(" "),t.projectIdIsValid?t._e():a("p",{staticClass:"error-text"},[t._v("Укажите корректный id проекта")])]),t._v(" "),a("div",{staticClass:"content grid-container fluid"},[t._l(t.errors,function(e){return t.isLoaded&&t.errors.length>0?a("div",{key:e,staticClass:"error-text"},[a("p",[t._v("Ошибка получения данных с сервера:")]),t._v(" "),a("p",[t._v(t._s(e))])]):t._e()}),t._v(" "),t.isLoading?a("p",[t._v("Загрузка...")]):t._e(),t._v(" "),t._l(t.data,function(e){return t.isLoaded?a("div",{key:e.projectId},[a("projectStat",t._b({},"projectStat",e,!1))],1):t._e()})],2)])},staticRenderFns:[]};var g=a("VU/8")(m,f,!1,function(t){a("Jl07")},null,null).exports;r.a.use(n.a);var j=new n.a({mode:"history",routes:[{path:"/",name:"Stat",component:g},{path:"/:projectId",name:"StatWithProject",component:g}]});r.a.config.productionTip=!1,new r.a({el:"#app",router:j,components:{App:s},template:"<App/>"})},Z2VJ:function(t,e){},gQZ1:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.eb58b2e76b26ed61e31d.js.map